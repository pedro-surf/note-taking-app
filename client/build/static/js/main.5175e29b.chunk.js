(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{42:function(e,t,n){},62:function(e,t,n){e.exports=n(95)},67:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(19),c=n.n(o),i=(n(67),n(42),n(21)),l=n(7),u=n(16),s=n.n(u),d=n(20),m=n(11),p=n(13),f=n(14),h=n(109),b=n(27),v=n(100),g=n(110),E=n(105),j=n(97),O=n(98),y=n(99),x=n(101),k=Object(a.createContext)(),w={todoData:{todos:[],count:0},authData:{loggedIn:!1,userId:null}},T=function(e){var t=e.reducer,n=e.initialState,o=e.children;return r.a.createElement(k.Provider,{value:Object(a.useReducer)(t,n)},o)},C=function(){return Object(a.useContext)(k)};function S(){var e=Object(p.a)(["\n  cursor: pointer;\n"]);return S=function(){return e},e}function P(){var e=Object(p.a)(["\n  cursor: pointer;\n  ","\n  &:hover {\n    text-decoration: 2px underline blue;\n  }\n"]);return P=function(){return e},e}function N(){var e=Object(p.a)(["\n  cursor: pointer;\n  &:hover {\n    text-decoration: 1px underline blue;\n  }\n"]);return N=function(){return e},e}function I(){var e=Object(p.a)(["\n  cursor: pointer;\n  &:hover {\n    border-color: blue;\n  }\n"]);return I=function(){return e},e}function D(){var e=Object(p.a)(["\n  justify-content: center;\n  flex: 1 0 42%;\n  margin: 5px;\n  ","\n  border-radius: 1%;\n  padding: 10px 5px;\n  background-color: gray;\n  &:hover {\n    background-color: #daa520;\n  }\n"]);return D=function(){return e},e}var F=f.a.div(D(),(function(e){return!e.isTodoPage&&"\n    min-height: 25vh;\n    min-width: 12vw;\n  "})),M=Object(f.a)(j.a)(I()),U=Object(f.a)(O.a)(N()),A=f.a.h3(P(),(function(e){return e.completed&&"text-decoration: line-through;"})),J=f.a.p(S()),B=function(e){var t=e.isTodoPage,n=void 0!==t&&t,a=e.title,o=e.body,c=e.id,u=e.completed,p=e.index,f=r.a.useState(!1),h=Object(m.a)(f,2),b=h[0],g=h[1],E=C(),j=Object(m.a)(E,2)[1],O=Object(l.e)(),k=function(){var e=Object(d.a)(s.a.mark((function e(t,n,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,fetch("/todos",{method:"PUT",body:JSON.stringify({id:t,title:n,completed:a,userId:1}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()}));case 3:r=e.sent,j({type:"patchTodo",todo:r.todo}),sessionStorage.setItem(t,n+"/"+!a),g(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(e){if(!a)return"Untiled note";if(e)return a;var t="";p&&!n&&(t+=p+1+". ");var r="";return a.length>16&&!n?r+=a.slice(1,16)+"...":r=a.slice(1),t+a.slice(0,1).toUpperCase()+r};return r.a.createElement(F,{isTodoPage:n},r.a.createElement(A,{onClick:function(){return O.push("/ideas/".concat(c))},completed:u},w()),r.a.createElement(J,{onClick:function(){return O.push("/ideas/".concat(c))}},o?n?o:o.length>14?o.slice(0,1)+o.slice(1,14)+"...":o:w(!0)),r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(M,{id:"completedCheckbox",name:"completedCheckbox",type:"checkbox",checked:u,disabled:b,onChange:function(){return k(c,a,u)}}),r.a.createElement(U,{onClick:function(){return k(c,a,u)},htmlFor:"completedCheckbox"},"Complete"))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/ideas/".concat(c)},r.a.createElement(v.a,{color:"success"},"ID #",c))),r.a.createElement("div",null,b&&r.a.createElement("div",null,r.a.createElement(x.a,{animation:"grow"}),r.a.createElement("p",null,"Loading..."))))},W=n(17),L=n(102),G=n(103),R=n(104);function $(){var e=Object(p.a)(["\n  &:hover {\n    background-color: #daa520;\n    color: black;\n  }\n"]);return $=function(){return e},e}var q=Object(f.a)(L.a)($()),z=function(){var e=r.a.useState({title:"My Notes",body:"Go code, learn better ways, review, etc",userId:1}),t=Object(m.a)(e,2),n=t[0],a=t[1],o=r.a.useState(!1),c=Object(m.a)(o,2),i=c[0],l=c[1],u=r.a.useState(!1),p=Object(m.a)(u,2),f=p[0],h=p[1],b=C(),v=Object(m.a)(b,2)[1],k=function(){var e=Object(d.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.title,a=n.body,t){e.next=3;break}return e.abrupt("return",h(!0));case 3:return l(!0),e.next=6,fetch("/todos",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:t,body:a,userId:1})}).then((function(e){return e.json()}));case 6:(r=e.sent).todo&&(v({type:"addTodo",todo:r.todo}),sessionStorage.setItem(r.todo.id,t+"/false")),l(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(G.a,{className:"mt-2"},r.a.createElement(R.a,null,r.a.createElement(O.a,{htmlFor:"title"},"Title"),r.a.createElement(j.a,{value:n.title,onChange:function(e){return a(Object(W.a)(Object(W.a)({},n),{},{title:e.target.value}))},name:"title",id:"title"}))),r.a.createElement(y.a,null,r.a.createElement(O.a,{htmlFor:"notes"},"Notes"),r.a.createElement(j.a,{type:"textarea",value:n.body,onChange:function(e){return a(Object(W.a)(Object(W.a)({},n),{},{body:e.target.value}))},name:"notes",id:"notes",placeholder:"Today I went hiking and it was very beautiful despite cold weather.."})),r.a.createElement(q,{onClick:k,disabled:i,id:"Popover1",type:"button"},"Add note"),i&&r.a.createElement("div",null,r.a.createElement(x.a,null)),f&&r.a.createElement(g.a,{placement:"bottom",isOpen:f,target:"Popover1",toggle:function(){return h(!f)}},r.a.createElement(E.a,null,"Preencha todos os campos!")))},H=n(106),K=n(107),Q=n(108),V=function(e){var t=e.next,n=e.prev,a=e.currentPage;return r.a.createElement("div",null,r.a.createElement(H.a,{style:{justifyContent:"center",marginTop:"1rem"},"aria-label":"Page navigation"},r.a.createElement(K.a,null,r.a.createElement(Q.a,{previous:!0,onClick:function(){return n()}})),r.a.createElement(K.a,null,r.a.createElement(Q.a,{next:!0,onClick:function(){return t()}}))),r.a.createElement("div",null,"Page ",a+1))};function X(){var e=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 1rem;\n  justify-content: center;\n  align-items: center;\n"]);return X=function(){return e},e}var Y=f.a.section(X());var Z=function(){var e=r.a.useState(0),t=Object(m.a)(e,2),n=t[0],o=t[1],c=r.a.useState(!1),i=Object(m.a)(c,2),l=i[0],u=i[1],p=C(),f=Object(m.a)(p,2),j=f[0].todoData,O=j.todos,y=j.count,x=f[1];Object(a.useEffect)((function(){y||function(){var e=Object(d.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching data from server..."),e.next=3,fetch("/todos").then((function(e){return e.json()}));case 3:(t=e.sent)&&t.todos&&t.todos.length&&((n=t.todos.slice(0,5)).forEach((function(e){return sessionStorage.setItem(e.id,"".concat(e.title,"/").concat(e.completed))})),x({type:"setTodos",todos:n}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[y,x]);var k=6*n;return r.a.createElement(h.a,{className:"App"},r.a.createElement(b.a,{timeout:150},r.a.createElement("h1",{className:"mt-1"},r.a.createElement(v.a,{color:"primary"},"Note Taking App")),r.a.createElement(v.a,{className:"mr-3",color:"secondary"},"Write down anything you have in mind"),r.a.createElement(v.a,{onMouseEnter:function(){return u(!0)},onMouseOut:function(){return u(!1)},id:"Popover1",color:"info"},y),l&&r.a.createElement(g.a,{placement:"bottom",isOpen:l,target:"Popover1",toggle:function(){return u(!l)}},r.a.createElement(E.a,null,y," ideas. Click on any to see it in details."))),r.a.createElement(b.a,{timeout:1e3}," ",r.a.createElement(z,null)),y>6&&r.a.createElement(V,{next:function(){return n+1>=Math.ceil(y/6)?alert("This is the last page."):o(n+1)},prev:function(){return 0===n?alert("This is the first page."):o(n-1)},currentPage:+n}),r.a.createElement(b.a,{timeout:1800},r.a.createElement(Y,null,O?O.map((function(e,t){var n=e.id,a=e.title,o=e.completed,c=e.body;return t>=k&&t<k+6&&r.a.createElement(B,{key:t,id:n,title:a,body:c,completed:o,index:t})})):r.a.createElement("p",null,"Loading.."))))};function _(){var e=Object(p.a)(["\n  justify-content: center;\n  align-items: center;\n  padding: auto;\n  display: flex;\n"]);return _=function(){return e},e}var ee=f.a.div(_()),te=function(e){var t=e.match,n=C(),o=Object(m.a)(n,1)[0].todoData.todos,c=Object(a.useState)(null),l=Object(m.a)(c,2),u=l[0],s=l[1];return Object(a.useEffect)((function(){if(o&&o.length&&s(o.find((function(e){return e.id.toString()===t.params.id}))),!o||!o.length){console.log("Searching session storage..");var e=sessionStorage.getItem(t.params.id).split("/"),n={title:e[0],completed:"true"===e[1],id:t.params.id};s(n)}}),[o,t.params.id]),r.a.createElement("div",null,r.a.createElement("h1",null,"Note #",t.params.id),r.a.createElement(ee,null,r.a.createElement(G.a,null,r.a.createElement(R.a,{xs:12},u?r.a.createElement(B,Object.assign({},u,{isTodoPage:!0})):r.a.createElement("p",null,"Note not found! :/")))),r.a.createElement(L.a,{className:"btn btn-warning mt-4"},r.a.createElement(i.b,{to:"/"},"Back to Main Page")))},ne=n(22),ae=n(29),re=function(e,t){switch(t.type){case"setTodos":return Object(ae.a)(e,(function(e){e.todos=[].concat(Object(ne.a)(e.todos),Object(ne.a)(t.todos)),e.count=e.todos.length}));case"removeTodo":return Object(ae.a)(e,(function(e){e.todos=Object(ne.a)(e.todos.filter((function(e){return e.id!==t.id}))),e.count=e.todos.length}));case"addTodo":return Object(ae.a)(e,(function(e){e.todos=[].concat(Object(ne.a)(e.todos),[t.todo]),e.count=e.todos.length}));case"patchTodo":return Object(ae.a)(e,(function(e){e.todos=Object(ne.a)(e.todos.map((function(e){return e.id===t.todo.id?Object(W.a)(Object(W.a)({},e),{},{completed:!e.completed}):e}))),e.count=e.todos.length}));default:return e}},oe=function(e,t){var n=e.todoData;return{todoData:re(n,t)}};var ce=function(){return r.a.createElement(T,{initialState:w,reducer:oe},r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{exact:!0,path:"/",component:Z}),r.a.createElement(l.a,{exact:!0,path:"/ideas/:id",component:te}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(94);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.5175e29b.chunk.js.map